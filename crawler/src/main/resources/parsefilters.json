{
  "com.digitalpebble.stormcrawler.parse.ParseFilters": [
    {
      "class": "org.n52.webcrawl.XPath3Filter",
      "name": "XPath3Filter",
      "params": {
        "parse.title": [
            "/HTML/HEAD/TITLE"
        ],
        "parse.keywords": [
          "/HTML/HEAD/META[@name='keywords']/@content"
        ],
        "extracted.data_portal": [
          "/HTML/HEAD/META[@name='generator']/@content[matches(., 'ckan')]",
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))]/text()[contains(lower-case(.), 'ckan')]",
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))]/text()[contains(lower-case(.), 'dkan')]",
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))]/text()[contains(lower-case(.), 'geoportal')]",
          "//SCRIPT[contains(text(), 'entryscape-catalog-portal')]"
        ],
        "extracted.data_api": [
          "//resolve-uri(A[matches(lower-case(@href), '(getcapabilities|wfs|wms|wmts)')]/@href)",
          "//*[not(matches(name(), '(SCRIPT|LINK)'))]/text()[matches(lower-case(.), '(getcapabilities|wfs|wms|wmts)')]",
          "//*[not(matches(name(), '(SCRIPT|LINK)'))]/text()[contains(., 'API')]",
          "//resolve-uri(A[text()[contains(lower-case(.), 'xml')] or contains(lower-case(@href), 'xml') and not(matches(lower-case(@href), '(sitemap|feed|atom|rss)'))]/@href)"
        ],
        "extracted.data_link": [
          "//SCRIPT[@type='application/ld+json']/text()[matches(., '\"@type\":\\s?\"(\\S+[:/])?(Dataset|DataCatalog)\"')]",
          "//resolve-uri(A[text()[matches(lower-case(.), '(dataset|csv|json|\\.zip)')] or matches(lower-case(@href), '(dataset|csv|json|\\.zip)')]/@href)"
        ],
        "extracted.data_pdf": [
          "//resolve-uri(A[text()[contains(lower-case(.), 'pdf')] or contains(lower-case(@href), 'pdf')]/@href)"
        ],
        "extracted.license": [
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))][text()[contains(lower-case(.), 'license')]]/../normalize-space(.)",
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))][text()[contains(lower-case(.), 'lizenz')]]/../normalize-space(.)"
        ],
        "extracted.contact": [
          "//*[not(matches(name(), '(SCRIPT|STYLE)'))]/text()[matches(., '[^\\s@]+@[^\\s@]+\\.[^\\s@]{2,}')]/normalize-space(.)"
        ]
      }
    },
    {
      "class": "org.n52.webcrawl.SimpleTopicScoreParseFilter",
      "name": "SimpleTopicScoreParseFilter",
      "params": {
        "keywords.dataset": [
          "datasets~",
          "data-set"
        ],
        "keywords.dataportal": [
          "ckan"
        ],
        "keywords.realtime": [
          "realtime~"
        ],
        "keywords.historic": [
          "historic~"
        ]
      }
    },
    {
      "class": "com.digitalpebble.stormcrawler.parse.filter.DomainParseFilter",
      "name": "DomainParseFilter",
      "params": {
        "key": "host",
        "byHost": true
       }
    },
    {
      "class": "org.n52.webcrawl.LanguageDetectionFilter",
      "name": "LanguageDetectionFilter",
      "params": {}
    }
  ]
}
